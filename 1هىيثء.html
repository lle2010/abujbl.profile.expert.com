<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¹Ù„ÙŠ Ø§Ù„Ø¬Ø¨Ø§Ù„ÙŠ | Ø§Ù„Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ© v17</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Tajawal:wght@300;500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    
    <style>
        :root {
            --bg: #020308; --card: rgba(255, 255, 255, 0.03); 
            --accent: #00f2ff; --v-purple: #bc13fe;
            --border: rgba(0, 242, 255, 0.12); --text: #f1f5f9;
        }

        body.light-mode {
            --bg: #f8fafc; --card: rgba(255, 255, 255, 0.8);
            --accent: #0284c7; --v-purple: #7c3aed;
            --border: rgba(2, 132, 199, 0.15); --text: #0f172a;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; transition: all 0.3s ease; }
        
        body {
            background-color: var(--bg); color: var(--text); font-family: 'Tajawal', sans-serif;
            min-height: 100vh; overflow-x: hidden; perspective: 1500px; padding: 120px 20px 50px;
        }

        /* --- Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ø´ÙƒØ± Ø§Ù„Ù…Ø±ÙƒØ²ÙŠ --- */
        #thanks-popup {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -10%) scale(0.7);
            background: var(--card); backdrop-filter: blur(30px);
            border: 2px solid var(--accent); border-radius: 40px;
            padding: 40px; z-index: 10000; text-align: center;
            opacity: 0; visibility: hidden; pointer-events: none;
            box-shadow: 0 0 50px rgba(0, 242, 255, 0.2);
        }
        #thanks-popup.active { opacity: 1; visibility: visible; transform: translate(-50%, -50%) scale(1); }

        /* --- Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¹Ø§Ù… --- */
        .nav-bar { position: fixed; top: 20px; left: 20px; right: 20px; display: flex; justify-content: space-between; z-index: 1000; }
        .control-btn { background: var(--card); border: 1px solid var(--border); color: var(--text); padding: 10px 20px; border-radius: 100px; cursor: pointer; backdrop-filter: blur(10px); font-weight: bold; font-size: 13px; display: flex; align-items: center; gap: 8px; }
        
        .main-portal { width: 100%; max-width: 1300px; margin: 0 auto; display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; transform-style: preserve-3d; }
        .vr-card { background: var(--card); border: 1px solid var(--border); border-radius: 35px; padding: 30px; backdrop-filter: blur(25px); }

        /* Profile */
        .profile-area { grid-column: span 2; grid-row: span 2; text-align: center; }
        .avatar { width: 150px; height: 150px; margin: 0 auto 20px; border-radius: 40px; border: 3px solid var(--v-purple); padding: 5px; }
        .avatar img { width: 100%; height: 100%; border-radius: 35px; object-fit: cover; }

        /* Social Media Icons with Names */
        .social-grid { grid-column: span 2; display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; }
        .social-btn { 
            background: var(--card); border: 1px solid var(--border); border-radius: 20px;
            padding: 15px; display: flex; align-items: center; gap: 12px;
            text-decoration: none; color: inherit; 
        }
        .social-btn i { font-size: 22px; color: var(--accent); }
        .social-btn span { font-weight: 700; font-size: 13px; }
        .social-btn:hover { border-color: var(--v-purple); transform: translateY(-5px); }

        /* Assistant LLE */
        .ai-area { grid-column: span 2; display: flex; flex-direction: column; }
        .chat-display { flex: 1; height: 160px; overflow-y: auto; margin: 15px 0; font-size: 14px; }
        .chat-input { display: flex; gap: 10px; background: rgba(0,0,0,0.1); padding: 8px 15px; border-radius: 50px; border: 1px solid var(--border); }
        .chat-input input { background: none; border: none; color: inherit; flex: 1; outline: none; }

        /* Portfolio & Projects */
        .full-width { grid-column: span 4; }
        .project-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-top: 20px; }
        .project-item { 
            background: rgba(255,255,255,0.02); border: 1px solid var(--border); border-radius: 25px; 
            padding: 25px; text-decoration: none; color: inherit; transition: 0.4s;
        }
        .project-item:hover { border-color: var(--accent); background: rgba(0, 242, 255, 0.05); transform: translateY(-10px); }

        /* Stars */
        .stars i { cursor: pointer; color: #444; font-size: 24px; margin: 0 2px; }
        .stars i.active { color: #fbbf24; }

        @media (max-width: 900px) { .main-portal { grid-template-columns: 1fr; } .profile-area, .ai-area, .social-grid, .full-width { grid-column: span 1; } }
    </style>
</head>
<body onmousemove="motion(event)">

    <div id="thanks-popup">
        <i class="fas fa-heart" style="font-size: 50px; color: var(--v-purple); margin-bottom: 20px; display: block;"></i>
        <h2 id="thanks-title">Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ!</h2>
        <p id="thanks-msg">ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… ØªÙ‚ÙŠÙŠÙ…Ùƒ Ø¨Ù†Ø¬Ø§Ø­ â¤ï¸</p>
    </div>

    <nav class="nav-bar">
        <div class="nav-controls">
            <button class="control-btn" onclick="toggleLang()" id="langBtn">English</button>
            <button class="control-btn" onclick="toggleTheme()" id="themeBtn"><i class="fas fa-moon"></i></button>
        </div>
        <div class="control-btn" style="border-color: var(--accent); font-family: 'Orbitron';">ALI_SYSTEM_V17</div>
    </nav>

    <main class="main-portal" id="portal">
        <section class="vr-card profile-area">
            <div class="avatar"><img src="" id="u-img"></div>
            <h1 id="u-name" style="font-family: 'Orbitron'; font-size: 2.2rem;">ALI JABALI</h1>
            <p id="u-role" style="color: var(--accent); font-weight: bold; font-size: 1.1rem;"></p>
            <p id="u-bio" style="margin-top: 15px; font-size: 14px; opacity: 0.8;"></p>
        </section>

        <section class="vr-card ai-area">
            <h3 id="ai-label" style="font-family: 'Orbitron'; font-size: 14px; color: var(--v-purple);"><i class="fas fa-robot"></i> Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ Ù„Ù„ÙŠ</h3>
            <div class="chat-display" id="chat-box">
                <div id="ai-init">Ù…Ø±Ø­Ø¨Ø§Ù‹! Ø£Ù†Ø§ Ù„Ù„ÙŠ.. ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ ÙÙŠ Ø§Ø³ØªÙƒØ´Ø§Ù Ø¹Ø§Ù„Ù… Ø¹Ù„ÙŠØŸ</div>
            </div>
            <div class="chat-input">
                <input type="text" id="chat-in" placeholder="Ø§Ø³Ø£Ù„ Ù„Ù„ÙŠ..." onkeypress="if(event.key==='Enter') talk()">
                <button onclick="talk()" style="background:none; border:none; color:var(--accent); cursor:pointer;"><i class="fas fa-paper-plane"></i></button>
            </div>
        </section>

        <div class="social-grid" id="social-grid"></div>

        <div class="vr-card" style="grid-column: span 2; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 15px;">
            <div class="stars" id="star-box">
                <i class="fas fa-star" data-v="1"></i><i class="fas fa-star" data-v="2"></i><i class="fas fa-star" data-v="3"></i><i class="fas fa-star" data-v="4"></i><i class="fas fa-star" data-v="5"></i>
            </div>
            <button class="control-btn" onclick="share()" style="width: 85%; justify-content: center; background: var(--accent); color: #000; border: none; font-weight: 800;">Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ø¨ÙˆØ§Ø¨Ø©</button>
        </div>

        <div class="vr-card full-width">
            <h3 id="proj-label" style="font-family: 'Orbitron'; color: var(--accent); margin-bottom: 20px;">PROJECT_STREAMS | Ø£Ø¨Ø±Ø² Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹</h3>
            <div id="project-list" class="project-grid"></div>
        </div>

        <div class="vr-card full-width">
            <h3 id="skill-label" style="font-family: 'Orbitron'; color: var(--v-purple); margin-bottom: 20px;">SKILL_MATRIX | Ù…ØµÙÙˆÙØ© Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª</h3>
            <div id="skills-list" style="display: flex; flex-wrap: wrap; gap: 10px;"></div>
        </div>
    </main>

    <script>
        let currentLang = 'ar';
        const trans = {
            ar: { thanks: 'Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ!', sub: 'ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… ØªÙ‚ÙŠÙŠÙ…Ùƒ Ø¨Ù†Ø¬Ø§Ø­ â¤ï¸', ai: 'Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ Ù„Ù„ÙŠ', welcome: 'Ø£Ù†Ø§ Ù„Ù„ÙŠØŒ ÙƒÙŠÙ Ø£Ø³Ø§Ø¹Ø¯ÙƒØŸ' },
            en: { thanks: 'Thank You!', sub: 'Your rating was received â¤ï¸', ai: 'LLE Global Assistant', welcome: 'I am LLE, how can I help?' }
        };

        const SHEETS = {
            profile: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQW22GQdJu3kQ4DktK2oirELe4KxaWCqvKgpr6XM6KHW-kC9KaysJWhkVOL54AUr4gqP5aIP89jNp9I/pub?gid=0&single=true&output=csv',
            social: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQW22GQdJu3kQ4DktK2oirELe4KxaWCqvKgpr6XM6KHW-kC9KaysJWhkVOL54AUr4gqP5aIP89jNp9I/pub?gid=1115684075&single=true&output=csv',
            skills: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQW22GQdJu3kQ4DktK2oirELe4KxaWCqvKgpr6XM6KHW-kC9KaysJWhkVOL54AUr4gqP5aIP89jNp9I/pub?gid=1388390928&single=true&output=csv',
            portfolio: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQW22GQdJu3kQ4DktK2oirELe4KxaWCqvKgpr6XM6KHW-kC9KaysJWhkVOL54AUr4gqP5aIP89jNp9I/pub?gid=679704760&single=true&output=csv'
        };

        let db = { skills: [], projects: [] };

        async function init() {
            const t = `&t=${Date.now()}`;
            try {
                const res = await Promise.all(Object.values(SHEETS).map(u => fetch(u+t).then(r => r.text())));
                
                // Profile
                const p = res[0].split('\n').map(r => r.split(','));
                document.getElementById('u-img').src = p[1][1].trim();
                document.getElementById('u-name').innerText = p[2][1];
                document.getElementById('u-role').innerText = p[3][1];
                document.getElementById('u-bio').innerText = p[4][1];

                // Socials with Names
                const sg = document.getElementById('social-grid'); sg.innerHTML = '';
                res[1].split('\n').slice(1).forEach(row => {
                    const r = row.split(','); if(!r[0]) return;
                    sg.innerHTML += `<a href="${r[1].trim()}" target="_blank" class="social-btn"><i class="${getIcon(r[0])}"></i><span>${r[0].trim()}</span></a>`;
                });

                // Projects (The missing part)
                const pf = document.getElementById('project-list'); pf.innerHTML = '';
                res[3].split('\n').slice(1).forEach(row => {
                    const r = row.split(','); if(!r[0]) return;
                    db.projects.push({n: r[0], d: r[1]});
                    pf.innerHTML += `<a href="${r[3].trim()}" target="_blank" class="project-item"><h4>${r[0]}</h4><p style="font-size:12px; opacity:0.6; margin-top:10px;">${r[1]}</p><div style="margin-top:15px; font-size:11px; color:var(--accent);">Ø¥Ø¶ØºØ· Ù„Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© â†</div></a>`;
                });

                // Skills
                const sk = document.getElementById('skills-list'); sk.innerHTML = '';
                res[2].split('\n').slice(1).forEach(row => {
                    const r = row.split(','); if(!r[0]) return;
                    db.skills.push(r[0]);
                    sk.innerHTML += `<span style="background:var(--card); padding:8px 15px; border-radius:50px; font-size:12px; border:1px solid var(--border);">${r[0]}</span>`;
                });

            } catch(e) { console.error("Sync Error"); }
        }

        // Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ø±ÙƒØ²ÙŠ
        document.querySelectorAll('.stars i').forEach(s => {
            s.onclick = function() {
                const v = this.dataset.v;
                document.querySelectorAll('.stars i').forEach(st => st.classList.remove('active'));
                for(let i=0; i<v; i++) document.querySelectorAll('.stars i')[i].classList.add('active');

                const popup = document.getElementById('thanks-popup');
                document.getElementById('thanks-title').innerText = trans[currentLang].thanks;
                document.getElementById('thanks-msg').innerText = trans[currentLang].sub;
                
                popup.classList.add('active');
                setTimeout(() => popup.classList.remove('active'), 3000);
            }
        });

        function talk() {
            const inp = document.getElementById('chat-in');
            const box = document.getElementById('chat-box');
            if(!inp.value) return;
            box.innerHTML += `<div style="text-align:left; opacity:0.5; margin:10px 0;">ğŸ‘¤ ${inp.value}</div>`;
            setTimeout(() => {
                let ans = currentLang === 'ar' ? "Ù„Ù‚Ø¯ Ø­Ù„Ù„Øª Ø³Ø¤Ø§Ù„ÙƒØŒ Ø¹Ù„ÙŠ Ù…ØªÙ…ÙŠØ² Ø¬Ø¯Ø§Ù‹ ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø¬Ø§Ù„!" : "I analyzed your question, Ali is very distinguished in this field!";
                box.innerHTML += `<div style="color:var(--accent); font-weight:bold; margin-bottom:15px;">ğŸ¤– ${ans}</div>`;
                box.scrollTop = box.scrollHeight;
            }, 600);
            inp.value = '';
        }

        function toggleTheme() {
            document.body.classList.toggle('light-mode');
            document.getElementById('themeBtn').innerHTML = document.body.classList.contains('light-mode') ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
        }

        function toggleLang() {
            currentLang = currentLang === 'ar' ? 'en' : 'ar';
            document.documentElement.dir = currentLang === 'ar' ? 'rtl' : 'ltr';
            document.getElementById('langBtn').innerText = currentLang === 'ar' ? 'English' : 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©';
            document.getElementById('ai-label').innerHTML = `<i class="fas fa-robot"></i> ${trans[currentLang].ai}`;
            document.getElementById('ai-init').innerText = trans[currentLang].welcome;
        }

        function motion(e) {
            const x = (window.innerWidth/2 - e.clientX) / 90;
            const y = (window.innerHeight/2 - e.clientY) / 90;
            if(window.innerWidth > 1000) document.getElementById('portal').style.transform = `rotateY(${x}deg) rotateX(${-y}deg)`;
        }

        function getIcon(n) {
            const map = { snapchat: 'fab fa-snapchat', tiktok: 'fab fa-tiktok', instagram: 'fab fa-instagram', x: 'fab fa-x-twitter', youtube: 'fab fa-youtube' };
            return map[n.toLowerCase().trim()] || 'fas fa-link';
        }

        function share() { navigator.clipboard.writeText(window.location.href); alert('ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·!'); }

        init();
    </script>
</body>
</html>